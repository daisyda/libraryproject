{% with request.resolver_match.url_name as url_name %}
<div class="topnav">
    <!-- Main navigation links -->
    <a class="{% if url_name == 'books.index' %}active{% endif %}" href="{% url 'books.index' %}">Home</a>
    <a class="{% if url_name == 'books.list_books' %}active{% endif %}" href="{% url 'books.list_books' %}">List Books</a>
    <a class="{% if url_name == 'books.aboutus' %}active{% endif %}" href="{% url 'books.aboutus' %}">About</a>

    <!-- Auth section, floated to the right -->
    <span style="float:right;">
        {% if user.is_authenticated %}
            Welcome, {{ user.username }} |
            <a href="{% url 'logout' %}">ðŸšª Logout</a>
        {% else %}
            <a class="{% if url_name == 'login' %}active{% endif %}" href="{% url 'login' %}">Login</a> |
            <a class="{% if url_name == 'register' %}active{% endif %}" href="{% url 'register' %}">Register</a>
        {% endif %}
    </span>
</div>
{% endwith %}
