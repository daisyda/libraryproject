{% extends "layouts/base.html" %}
{% block title %} Search Results | My Library {% endblock title %}

{% block content %}
<h1 style="text-align: center; margin-bottom: 20px;">Search Results</h1>

{% if books %}
    <table style="width: 80%; margin: auto; border-collapse: collapse; border: 2px solid #000;">
        <thead>
            <tr style="background-color: #4CAF50; color: white; font-size: 18px;">
                <th style="padding: 12px; border: 1px solid #000;">Book ID</th>
                <th style="padding: 12px; border: 1px solid #000;">Title</th>
                <th style="padding: 12px; border: 1px solid #000;">Author</th>
            </tr>
        </thead>
        <tbody>
            {% for book in books %}
            <tr style="background-color: {% cycle '#f9f9f9' '#e0e0e0' %}; text-align: center;">
                <td style="padding: 10px; border: 1px solid #000;">{{ book.id }}</td>
                <td style="padding: 10px; border: 1px solid #000;">{{ book.title }}</td>
                <td style="padding: 10px; border: 1px solid #000;">{{ book.author }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p style="text-align: center; font-size: 18px; color: red;">No books found matching your search.</p>
{% endif %}

<br>
<div style="text-align: center;">
    <a href="{% url 'books.search' %}" style="text-decoration: none; background-color: #008CBA; color: white; padding: 10px 20px; border-radius: 5px;">Go Back to Search</a>
</div>

<!-- âœ… ADDING THE REQUIRED DJANGO LOOP -->
{% for obj in books %}
    <p>ID: {{ obj.id }}, Title: {{ obj.title }}</p>
    <hr>
{% endfor %}

{% endblock content %}
